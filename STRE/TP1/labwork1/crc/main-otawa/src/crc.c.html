<html><head><title>crc.c colored for ipet-total_count</title>
    <style>
        td {
            text-align: right;
            padding-left: 8pt;
            padding-right: 8pt;
        }
        td.source {
            text-align: left;
        }
        table {
            margin-top: 1em;
        }
    </style>


    <script type="text/javascript">
        var labels = ['ipet-total_count', 'ipet-total_time', ];
        var backgrounds = ['#ffffff', '#eae7ff', '#d6cfff', '#c0b7ff', '#ab9eff', '#a194fa', '#9b8ef5', '#8c7ded', '#7b6ce3', '#7162dd'];
        var foregrounds = ['#000000', '#000000', '#000000', '#000000', '#000000', '#ffffff', '#ffffff', '#ffffff', '#ffffff', '#ffffff'];

        function colorize(backs, label) {
            document.getElementById("label").textContent = label;
            trs = document.getElementById("stats").getElementsByTagName("tr");
            for(i = 0; i < trs.length; i++) {
                trs[i].style.backgroundColor = backgrounds[backs[i]];
                trs[i].style.color = foregrounds[backs[i]];
            }
        }

        var s0 = [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            9,
            5,
            5,
            0,
            0,
            0,
            1,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            1,
            1,
            2,
            2,
            1,
            0,
            0,
            1,
            1,
            1,
            0,
            0,
            0,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
        ];
        var s1 = [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            3,
            0,
            3,
            0,
            9,
            4,
            5,
            0,
            0,
            0,
            1,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            1,
            1,
            4,
            5,
            4,
            0,
            0,
            1,
            1,
            1,
            0,
            0,
            0,
            1,
            1,
            1,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            1,
            0,
        ];

    </script>
            </head><body>
    <h1>crc.c</h1>

    <p><a href="index.html">Top</a><br/>
    <b>Task:</b> main-otawa<br/>
    <b>Colored by:</b> <span id='label'>ipet-total_count</span>
    <table id="stats">
    <tr><th>num.</th><th>source</th><th><a href="javascript:colorize(s0, 'ipet-total_count')">ipet-total_count</a></th><th><a href="javascript:colorize(s1, 'ipet-total_time')">ipet-total_time</a></th></tr>
    <tr><td>1</td><td class="source"><font color='green'><i>/*************************************************************************/</i></font></td><td></td><td></td></tr>
    <tr><td>2</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>3</td><td class="source"><font color='green'><i>/*   SNU-RT Benchmark Suite for Worst Case Timing Analysis               */</i></font></td><td></td><td></td></tr>
    <tr><td>4</td><td class="source"><font color='green'><i>/*   =====================================================               */</i></font></td><td></td><td></td></tr>
    <tr><td>5</td><td class="source"><font color='green'><i>/*                              Collected and Modified by S.-S. Lim      */</i></font></td><td></td><td></td></tr>
    <tr><td>6</td><td class="source"><font color='green'><i>/*                                           sslim@archi.snu.ac.kr       */</i></font></td><td></td><td></td></tr>
    <tr><td>7</td><td class="source"><font color='green'><i>/*                                         Real-Time Research Group      */</i></font></td><td></td><td></td></tr>
    <tr><td>8</td><td class="source"><font color='green'><i>/*                                        Seoul National University      */</i></font></td><td></td><td></td></tr>
    <tr><td>9</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>10</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>11</td><td class="source"><font color='green'><i>/*        < Features > - restrictions for our experimental environment   */</i></font></td><td></td><td></td></tr>
    <tr><td>12</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>13</td><td class="source"><font color='green'><i>/*          1. Completely structured.                                    */</i></font></td><td></td><td></td></tr>
    <tr><td>14</td><td class="source"><font color='green'><i>/*               - There are no unconditional jumps.                     */</i></font></td><td></td><td></td></tr>
    <tr><td>15</td><td class="source"><font color='green'><i>/*               - There are no exit from loop bodies.                   */</i></font></td><td></td><td></td></tr>
    <tr><td>16</td><td class="source"><font color='green'><i>/*                 (There are no 'break' or 'return' in loop bodies)     */</i></font></td><td></td><td></td></tr>
    <tr><td>17</td><td class="source"><font color='green'><i>/*          2. No 'switch' statements.                                   */</i></font></td><td></td><td></td></tr>
    <tr><td>18</td><td class="source"><font color='green'><i>/*          3. No 'do..while' statements.                                */</i></font></td><td></td><td></td></tr>
    <tr><td>19</td><td class="source"><font color='green'><i>/*          4. Expressions are restricted.                               */</i></font></td><td></td><td></td></tr>
    <tr><td>20</td><td class="source"><font color='green'><i>/*               - There are no multiple expressions joined by 'or',     */</i></font></td><td></td><td></td></tr>
    <tr><td>21</td><td class="source"><font color='green'><i>/*                'and' operations.                                      */</i></font></td><td></td><td></td></tr>
    <tr><td>22</td><td class="source"><font color='green'><i>/*          5. No library calls.                                         */</i></font></td><td></td><td></td></tr>
    <tr><td>23</td><td class="source"><font color='green'><i>/*               - All the functions needed are implemented in the       */</i></font></td><td></td><td></td></tr>
    <tr><td>24</td><td class="source"><font color='green'><i>/*                 source file.                                          */</i></font></td><td></td><td></td></tr>
    <tr><td>25</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>26</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>27</td><td class="source"><font color='green'><i>/*************************************************************************/</i></font></td><td></td><td></td></tr>
    <tr><td>28</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>29</td><td class="source"><font color='green'><i>/*  FILE: crc.c                                                          */</i></font></td><td></td><td></td></tr>
    <tr><td>30</td><td class="source"><font color='green'><i>/*  SOURCE : Numerical Recipes in C - The Second Edition                 */</i></font></td><td></td><td></td></tr>
    <tr><td>31</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>32</td><td class="source"><font color='green'><i>/*  DESCRIPTION :                                                        */</i></font></td><td></td><td></td></tr>
    <tr><td>33</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>34</td><td class="source"><font color='green'><i>/*     A demonstration for CRC (Cyclic Redundancy Check) operation.      */</i></font></td><td></td><td></td></tr>
    <tr><td>35</td><td class="source"><font color='green'><i>/*     The CRC is manipulated as two functions, icrc1 and icrc.          */</i></font></td><td></td><td></td></tr>
    <tr><td>36</td><td class="source"><font color='green'><i>/*     icrc1 is for one character and icrc uses icrc1 for a string.      */</i></font></td><td></td><td></td></tr>
    <tr><td>37</td><td class="source"><font color='green'><i>/*     The input string is stored in array lin[].                        */</i></font></td><td></td><td></td></tr>
    <tr><td>38</td><td class="source"><font color='green'><i>/*     icrc is called two times, one for X-Modem string CRC and the      */</i></font></td><td></td><td></td></tr>
    <tr><td>39</td><td class="source"><font color='green'><i>/*     other for X-Modem packet CRC.                                     */</i></font></td><td></td><td></td></tr>
    <tr><td>40</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>41</td><td class="source"><font color='green'><i>/*  REMARK :                                                             */</i></font></td><td></td><td></td></tr>
    <tr><td>42</td><td class="source">/*                <b>int</b> main(void);</td><td></td><td></td></tr>
    <tr><td>43</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>44</td><td class="source">void _start(void) {</td><td></td><td></td></tr>
    <tr><td>45</td><td class="source" style=" padding-left: 32pt;">main();</td><td></td><td></td></tr>
    <tr><td>46</td><td class="source" style=" padding-left: 32pt;"><font color='red'><b>while</b></font>(1);</td><td></td><td></td></tr>
    <tr><td>47</td><td class="source">}</td><td></td><td></td></tr>
    <tr><td>48</td><td class="source" style=" padding-left: 440pt;">*/</td><td></td><td></td></tr>
    <tr><td>49</td><td class="source"><font color='green'><i>/*  EXECUTION TIME :                                                     */</i></font></td><td></td><td></td></tr>
    <tr><td>50</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>51</td><td class="source"><font color='green'><i>/*                                                                       */</i></font></td><td></td><td></td></tr>
    <tr><td>52</td><td class="source"><font color='green'><i>/*************************************************************************/</i></font></td><td></td><td></td></tr>
    <tr><td>53</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>54</td><td class="source"><b>int</b> main(void);</td><td></td><td></td></tr>
    <tr><td>55</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>56</td><td class="source">void _start(void) {</td><td></td><td></td></tr>
    <tr><td>57</td><td class="source" style=" padding-left: 32pt;">main();</td><td></td><td></td></tr>
    <tr><td>58</td><td class="source" style=" padding-left: 32pt;"><font color='red'><b>while</b></font>(1);</td><td></td><td></td></tr>
    <tr><td>59</td><td class="source">}</td><td></td><td></td></tr>
    <tr><td>60</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>61</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>62</td><td class="source"><b>typedef</b> <b>unsigned</b> <b>char</b> uchar;</td><td></td><td></td></tr>
    <tr><td>63</td><td class="source"><font color='orange'><b>#define</b></font> LOBYTE(x) ((uchar)((x) & 0xFF))</td><td></td><td></td></tr>
    <tr><td>64</td><td class="source"><font color='orange'><b>#define</b></font> HIBYTE(x) ((uchar)((x) >> 8))</td><td></td><td></td></tr>
    <tr><td>65</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>66</td><td class="source"><b>unsigned</b> <b>char</b> lin[256] = "asdffeagewaHAFEFaeDsFEawFdsFaefaeerdjgp";</td><td></td><td></td></tr>
    <tr><td>67</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>68</td><td class="source"><b>unsigned</b> <b>short</b> icrc1(<b>unsigned</b> <b>short</b> crc, <b>unsigned</b> <b>char</b> onech)</td><td></td><td></td></tr>
    <tr><td>69</td><td class="source">{</td><td>510</td><td>11220</td></tr>
    <tr><td>70</td><td class="source" style=" padding-left: 32pt;"><b>int</b> i;</td><td></td><td></td></tr>
    <tr><td>71</td><td class="source" style=" padding-left: 32pt;"><b>unsigned</b> <b>short</b> ans=(crc^onech << 8);</td><td>510</td><td>11220</td></tr>
    <tr><td>72</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>73</td><td class="source" style=" padding-left: 32pt;"><font color='red'><b>for</b></font> (i=0;i<8;i++) {</td><td>9180</td><td>59160</td></tr>
    <tr><td>74</td><td class="source" style=" padding-left: 64pt;"><font color='red'><b>if</b></font> (ans & 0x8000)</td><td>4080</td><td>24480</td></tr>
    <tr><td>75</td><td class="source" style=" padding-left: 96pt;">ans = (ans <<= 1) ^ 4129;</td><td>4080</td><td>32640</td></tr>
    <tr><td>76</td><td class="source" style=" padding-left: 64pt;"><font color='red'><b>else</b></font></td><td></td><td></td></tr>
    <tr><td>77</td><td class="source" style=" padding-left: 96pt;">ans <<= 1;</td><td>0</td><td>0</td></tr>
    <tr><td>78</td><td class="source" style=" padding-left: 32pt;">}</td><td></td><td></td></tr>
    <tr><td>79</td><td class="source" style=" padding-left: 32pt;"><font color='red'><b>return</b></font> ans;</td><td>510</td><td>3060</td></tr>
    <tr><td>80</td><td class="source">}</td><td>510</td><td>3060</td></tr>
    <tr><td>81</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>82</td><td class="source"><b>unsigned</b> <b>short</b> icrc(<b>unsigned</b> <b>short</b> crc, <b>unsigned</b> <b>long</b> len,</td><td></td><td></td></tr>
    <tr><td>83</td><td class="source" style=" padding-left: 96pt;"><b>short</b> jinit, <b>int</b> jrev)</td><td></td><td></td></tr>
    <tr><td>84</td><td class="source">{</td><td>2</td><td>42</td></tr>
    <tr><td>85</td><td class="source" style=" padding-left: 16pt;"><b>unsigned</b> <b>short</b> icrc1(<b>unsigned</b> <b>short</b> crc, <b>unsigned</b> <b>char</b> onech);</td><td></td><td></td></tr>
    <tr><td>86</td><td class="source" style=" padding-left: 16pt;">static <b>unsigned</b> <b>short</b> icrctb[256],init=0;</td><td></td><td></td></tr>
    <tr><td>87</td><td class="source" style=" padding-left: 16pt;">static uchar rchr[256];</td><td></td><td></td></tr>
    <tr><td>88</td><td class="source" style=" padding-left: 16pt;"><b>unsigned</b> <b>short</b> tmp1, tmp2, j,cword=crc;</td><td>2</td><td>42</td></tr>
    <tr><td>89</td><td class="source" style=" padding-left: 16pt;">static uchar it[16]={0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15};</td><td></td><td></td></tr>
    <tr><td>90</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>91</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>if</b></font> (!init) {</td><td>2</td><td>42</td></tr>
    <tr><td>92</td><td class="source" style=" padding-left: 32pt;">init=1;</td><td>2</td><td>16</td></tr>
    <tr><td>93</td><td class="source" style=" padding-left: 32pt;"><font color='red'><b>for</b></font> (j=0;j<=255;j++) {</td><td>1024</td><td>21449</td></tr>
    <tr><td>94</td><td class="source" style=" padding-left: 48pt;">icrctb[j]=icrc1(j << 8,(uchar)0);</td><td>1020</td><td>26010</td></tr>
    <tr><td>95</td><td class="source" style=" padding-left: 48pt;">rchr[j]=(uchar)(it[j & 0xF] << 4 | it[j >> 4]);</td><td>510</td><td>19380</td></tr>
    <tr><td>96</td><td class="source" style=" padding-left: 32pt;">}</td><td></td><td></td></tr>
    <tr><td>97</td><td class="source" style=" padding-left: 16pt;">}</td><td></td><td></td></tr>
    <tr><td>98</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>if</b></font> (jinit >= 0) cword=((uchar) jinit) | (((uchar) jinit) << 8);</td><td>2</td><td>10</td></tr>
    <tr><td>99</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>else</b></font> <font color='red'><b>if</b></font> (jrev < 0)</td><td>2</td><td>12</td></tr>
    <tr><td>100</td><td class="source" style=" padding-left: 32pt;">cword=rchr[HIBYTE(cword)] | rchr[LOBYTE(cword)] << 8;</td><td>2</td><td>50</td></tr>
    <tr><td>101</td><td class="source"><font color='orange'><b>#ifdef</b></font> DEBUG</td><td></td><td></td></tr>
    <tr><td>102</td><td class="source" style=" padding-left: 16pt;">printf("len = %d\n", len);</td><td></td><td></td></tr>
    <tr><td>103</td><td class="source"><font color='orange'><b>#endif</b></font></td><td></td><td></td></tr>
    <tr><td>104</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>for</b></font> (j=1;j<=len;j++) {</td><td>172</td><td>2462</td></tr>
    <tr><td>105</td><td class="source" style=" padding-left: 32pt;"><font color='red'><b>if</b></font> (jrev < 0) {</td><td>84</td><td>504</td></tr>
    <tr><td>106</td><td class="source" style=" padding-left: 48pt;">tmp1 = rchr[lin[j]]^ HIBYTE(cword);</td><td>84</td><td>1680</td></tr>
    <tr><td>107</td><td class="source" style=" padding-left: 32pt;">}</td><td></td><td></td></tr>
    <tr><td>108</td><td class="source" style=" padding-left: 32pt;"><font color='red'><b>else</b></font> {</td><td></td><td></td></tr>
    <tr><td>109</td><td class="source" style=" padding-left: 48pt;">tmp1 = lin[j]^ HIBYTE(cword);</td><td>0</td><td>0</td></tr>
    <tr><td>110</td><td class="source" style=" padding-left: 32pt;">}</td><td></td><td></td></tr>
    <tr><td>111</td><td class="source" style=" padding-left: 32pt;">cword = icrctb[tmp1] ^ LOBYTE(cword) << 8;</td><td>84</td><td>1932</td></tr>
    <tr><td>112</td><td class="source" style=" padding-left: 16pt;">}</td><td></td><td></td></tr>
    <tr><td>113</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>if</b></font> (jrev >= 0) {</td><td>2</td><td>10</td></tr>
    <tr><td>114</td><td class="source" style=" padding-left: 32pt;">tmp2 = cword;</td><td>0</td><td>0</td></tr>
    <tr><td>115</td><td class="source" style=" padding-left: 16pt;">}</td><td></td><td></td></tr>
    <tr><td>116</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>else</b></font> {</td><td></td><td></td></tr>
    <tr><td>117</td><td class="source" style=" padding-left: 32pt;">tmp2 = rchr[HIBYTE(cword)] | rchr[LOBYTE(cword)] << 8;</td><td>2</td><td>55</td></tr>
    <tr><td>118</td><td class="source" style=" padding-left: 16pt;">}</td><td></td><td></td></tr>
    <tr><td>119</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>return</b></font> (tmp2 );</td><td>2</td><td>18</td></tr>
    <tr><td>120</td><td class="source">}</td><td>2</td><td>18</td></tr>
    <tr><td>121</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>122</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>123</td><td class="source"><b>int</b> main(void)</td><td></td><td></td></tr>
    <tr><td>124</td><td class="source">{</td><td>1</td><td>21</td></tr>
    <tr><td>125</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>126</td><td class="source" style=" padding-left: 16pt;"><b>unsigned</b> <b>short</b> i1,i2;</td><td></td><td></td></tr>
    <tr><td>127</td><td class="source" style=" padding-left: 16pt;"><b>unsigned</b> <b>long</b> n;</td><td></td><td></td></tr>
    <tr><td>128</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>129</td><td class="source" style=" padding-left: 16pt;">n=40;</td><td>1</td><td>21</td></tr>
    <tr><td>130</td><td class="source" style=" padding-left: 16pt;">lin[n+1]=0;</td><td>1</td><td>21</td></tr>
    <tr><td>131</td><td class="source" style=" padding-left: 16pt;">i1=icrc(0,n,(<b>short</b>)0,1);</td><td>2</td><td>48</td></tr>
    <tr><td>132</td><td class="source" style=" padding-left: 16pt;">lin[n+1]=HIBYTE(i1);</td><td>1</td><td>27</td></tr>
    <tr><td>133</td><td class="source" style=" padding-left: 16pt;">lin[n+2]=LOBYTE(i1);</td><td>1</td><td>27</td></tr>
    <tr><td>134</td><td class="source" style=" padding-left: 16pt;">i2=icrc(i1,n+2,(<b>short</b>)0,1);</td><td>2</td><td>37</td></tr>
    <tr><td>135</td><td class="source" style=" padding-left: 16pt;"><font color='red'><b>return</b></font> 0;</td><td>1</td><td>10</td></tr>
    <tr><td>136</td><td class="source">}</td><td>1</td><td>10</td></tr>
    <tr><td>137</td><td class="source"></td><td></td><td></td></tr>
    <tr><td>138</td><td class="source"></td><td></td><td></td></tr>
    </table>
    <center><i>Generated by otawa-stat.py (2021-11-10 10:55:41.179273).<br/><a href="http://www.otawa.fr">OTAWA</a> framework - copyright (c) 2019, University of Toulouse.<i></center>
    <script type='text/javascript'>colorize(s0, 'ipet-total_count');</Script>
<body></html>
